<ion-content [fullscreen]="true" class="signin-content" scroll-y="false">
  <div class="form-wrapper">
    <div class="signin-card">
      <!-- Logo with favicon -->
      <div class="logo">
        <img src="assets/icon/favicon.png" alt="Jeevjantoo Logo" class="favicon-logo" />
        <h2 class="app-title">Sign In</h2>
      </div>

      <!-- Tabs -->
      <ion-segment [(ngModel)]="loginMode" class="login-tabs">
        <ion-segment-button value="email">Email</ion-segment-button>
        <ion-segment-button value="phone">Phone</ion-segment-button>
      </ion-segment>

      <!-- Email Login Form -->
      <form *ngIf="loginMode === 'email'" [formGroup]="emailForm" (ngSubmit)="onEmailLogin()">
        <ion-item>
          <ion-input formControlName="email" type="email" placeholder="Email"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input formControlName="password" type="password" placeholder="Password"></ion-input>
        </ion-item>

        <!-- Forgot Password link -->
        <p class="forgot-link" (click)="navigateToForgotPassword()">Forgot Password?</p>

        <ion-button expand="block" class="submit-btn" type="submit" [disabled]="emailForm.invalid">
          Sign In
        </ion-button>
      </form>

      <!-- Phone OTP Login Form -->
      <form *ngIf="loginMode === 'phone'" [formGroup]="phoneForm">
        <ion-item>
          <ion-input formControlName="phone" type="tel" placeholder="Enter Phone Number"></ion-input>
        </ion-item>

        <ion-button expand="block" *ngIf="!otpSent" (click)="onSendOtp()">Send OTP</ion-button>

        <ion-item *ngIf="otpSent">
          <ion-input formControlName="otp" type="number" placeholder="Enter OTP"></ion-input>
        </ion-item>

        <ion-button expand="block" *ngIf="otpSent" (click)="onPhoneLogin()">Verify OTP</ion-button>
      </form>

      <p class="signup-link">
        Donâ€™t have an account? <a (click)="navigateToSignUp()">Sign Up</a>
      </p>
    </div>
  </div>

  <!-- Invisible reCAPTCHA for Firebase -->
  <div id="recaptcha-container"></div>
</ion-content>
